<div class="h-full flex flex-col">
  <!-- Header Section -->
  <div class="flex-shrink-0 p-4 border-b border-gray-200 dark:border-slate-600">
    <div class="text-center space-y-3">
      <div class="flex items-center justify-center space-x-2">
        <div class="w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-md dark:shadow-lg rounded-lg flex items-center justify-center transform rotate-3">
          <ion-icon name="book-outline" class="text-white text-lg"></ion-icon>
        </div>
        <h1 class="text-xl font-bold text-gray-900 dark:text-white">
          Homework
        </h1>
      </div>
    </div>
  </div>

  <!-- Elegant Add Button Section -->
  <div class="flex-shrink-0 px-4 pt-4 pb-2">
    <button
      (click)="openModal()"
      class="elegant-add-btn w-full group relative overflow-hidden flex items-center justify-between bg-gradient-to-br from-emerald-500/10 via-emerald-600/15 to-emerald-700/10 backdrop-blur-sm border border-emerald-500/30 rounded-2xl p-4 transition-all duration-400 ease-[cubic-bezier(0.25,0.46,0.45,0.94)] hover:-translate-y-0.5 hover:shadow-lg hover:shadow-emerald-500/15 hover:border-emerald-500 active:translate-y-0 active:duration-100 dark:from-emerald-500/8 dark:via-emerald-600/12 dark:to-emerald-700/8 dark:border-emerald-500/20 dark:hover:border-emerald-500 dark:hover:shadow-emerald-500/20">
      <!-- Animated gradient overlay -->
      <div class="absolute inset-0 -left-full bg-gradient-to-r from-transparent via-emerald-500/10 to-transparent transition-all duration-600 ease-in-out group-hover:left-full"></div>

      <div class="flex items-center justify-center space-x-3 relative z-10">
        <div class="relative w-11 h-11 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-500/30 transition-all duration-300 ease-in-out group-hover:scale-105 group-hover:rotate-90 group-hover:shadow-xl group-hover:shadow-emerald-500/40">
          <!-- Glow effect -->
          <div class="absolute inset-0 bg-gradient-to-br from-emerald-400 to-emerald-500 rounded-xl opacity-0 transition-opacity duration-300 ease-in-out group-hover:opacity-100"></div>
          <ion-icon name="add-outline" class="text-white text-lg relative z-10 transition-all duration-300 ease-in-out"></ion-icon>
        </div>
        <div class="text-left">
          <h3 class="text-base font-semibold text-emerald-500 transition-colors duration-300 ease-in-out group-hover:text-emerald-600 group-hover:drop-shadow-lg group-hover:drop-shadow-emerald-500/30 dark:text-emerald-400 dark:group-hover:text-emerald-500">Create New Homework</h3>
          <p class="text-xs text-gray-500 transition-colors duration-300 ease-in-out group-hover:text-emerald-500 dark:text-gray-400 dark:group-hover:text-emerald-400">Add homework for your students</p>
        </div>
      </div>
      <div class="text-gray-400 opacity-70 transition-all duration-300 ease-in-out group-hover:text-emerald-500 group-hover:opacity-100 group-hover:translate-x-1 relative z-10">
        <ion-icon name="chevron-forward-outline"></ion-icon>
      </div>
    </button>
  </div>

  <!-- Scrollable Content Area with Blur Edges -->
  <div class="flex-1 min-h-0 overflow-hidden relative">
    <!-- Top Blur Fade -->
    <div class="absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-white/70 to-transparent dark:from-slate-800/70 z-10 pointer-events-none"></div>

    <!-- Bottom Blur Fade -->
    <div class="absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-white/70 to-transparent dark:from-slate-800/70 z-10 pointer-events-none"></div>

    <!-- Scrollable Content -->
    <div class="h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gradient-to-b scrollbar-thumb-from-emerald-500 scrollbar-thumb-to-emerald-400 scrollbar-track-transparent scrollbar-thumb-rounded-full py-2">
      <div class="p-4">
        <!-- Homework Card Grid -->
        <div class="grid grid-cols-1 gap-4" *ngIf="homeworkList.length > 0">
          <app-card-homework
            *ngFor="let homework of homeworkList; trackBy: trackByFn"
            [homework]="homework"
            (edit)="editHomework($event)"
            (delete)="deleteHomework($event)"
            (statusToggle)="updateHomeworkStatus($event)"
            (moreOptions)="showHomeworkOptions($event)">
          </app-card-homework>
        </div>

        <!-- Empty State -->
        <div *ngIf="homeworkList.length === 0" class="text-center py-8">
          <div class="bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl rounded-2xl p-6 border border-white/20 dark:border-slate-700/50 shadow-md">
            <div class="w-12 h-12 mx-auto bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl shadow-lg flex items-center justify-center mb-4 transform rotate-3">
              <ion-icon name="book-outline" class="text-xl text-white"></ion-icon>
            </div>
            <h3 class="text-gray-900 dark:text-white font-semibold text-lg mb-2">No assignments yet</h3>
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">Create your first homework assignment</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Modal -->
  <app-mdl-homework [isModalOpen]="isModalOpen" [classes]="classesList" [editingHomework]="editingHomework"
    (modalClosed)="closeModal()"></app-mdl-homework>
</div>
